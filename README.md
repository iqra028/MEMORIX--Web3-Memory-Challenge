
# Memorix — Web3 Memory Game (Local Dev)

**Memorix** is a **Simon-style Web3 memory game** that supports infinite levels, a daily challenge, telemetry for anti-cheat research, and **on-chain reward recording**.

This guide explains how to **set up the full local development environment** — including the **Hardhat local blockchain**, **backend server**, and **frontend web UI**.

---

## Overview

The supplied code includes:

- **Solidity contract**: `MemorixGame.sol`
- **Hardhat scripts**: deployment and interaction
- **Express backend**: verifies telemetry and records rounds
- **Frontend web UI**: connects to MetaMask, plays rounds, and submits telemetry

---

## Quick Facts & Tested Versions

| Component | Version | Notes |
|------------|----------|-------|
| **Node.js** | 18.x (tested with 18.20.0) | Recommended |
| **npm** | 9.x | Bundled with Node 18 |
| **nvm** | v0.39+ | Optional but recommended |
| **Hardhat** | 2.22.1 | Local devDependency |
| **ethers (JS)** | 5.7.2 | Compatible with Hardhat 2.22.1 |
| **@nomiclabs/hardhat-ethers** | ^2.2.3 | Plugin for ethers support |
| **Solidity** | ^0.8.20 | Contracts compile with 0.8.20 |
| **Express** | 4.21.2 | Backend |
| **OS** | Linux / Debian-based | Commands below assume Debian shell |

---

## Project Layout

```

memorix-game/
├─ contracts/
│  └─ MemorixGame.sol
├─ scripts/
│  ├─ deploy.js
│  └─ interact.js
├─ public/
│  └─ index.html
├─ artifacts/          # (generated by Hardhat)
├─ node_modules/
├─ server.js
├─ game-config.json
├─ hardhat.config.js
├─ package.json
└─ deployment-info.json # (created by deploy script)

````

---

## Setup Instructions

### 1. Initialize Project

```bash
npm init -y
````

### 2. Install Dependencies

```bash
npm install --save-dev hardhat@2.22.1
npm install --save-dev @nomiclabs/hardhat-ethers@2.2.3 ethers@5.7.2
```

### 3. Initialize Hardhat

```bash
npx hardhat init
```

---

## Hardhat Configuration

Create or edit your `hardhat.config.js`:

```js
require("@nomiclabs/hardhat-ethers");

module.exports = {
  solidity: {
    version: "0.8.24",
    settings: {
      optimizer: {
        enabled: true,
        runs: 200,
      },
      viaIR: true,
    },
  },
  networks: {
    localhost: {
      url: "http://127.0.0.1:8545",
      chainId: 31337,
    },
  },
};
```

---

## Environment Setup

### 1. Install & Configure NVM

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
source ~/.zshrc
```

### 2. Install Node 18 and Set Default

```bash
nvm install 18
nvm use 18
nvm alias default 18
node -v
```

---

## Running the Project

Open **three terminals**:

### Terminal 1 — Run Local Hardhat Node

```bash
npx hardhat node
```

### Terminal 2 — Compile, Deploy, and Run Backend

```bash
npx hardhat compile
npx hardhat run scripts/deploy.js --network localhost
npx hardhat run scripts/interact.js --network localhost   # optional test
node server.js
```

### Terminal 3 — Run Frontend

```bash
cd public
python3 -m http.server 8000
```

Access the frontend at:
**[http://localhost:8000](http://localhost:8000)**

---

## Common Troubleshooting

| Issue                                 | Possible Fix                                                           |
| ------------------------------------- | ---------------------------------------------------------------------- |
| `hardhat: command not found`          | Ensure Hardhat is installed locally (`npm install --save-dev hardhat`) |
| `@nomiclabs/hardhat-ethers not found` | Run `npm install --save-dev @nomiclabs/hardhat-ethers ethers`          |
| MetaMask not connecting               | Make sure MetaMask is connected to **localhost:8545 (chainId 31337)**  |
| Compilation error                     | Check Solidity version compatibility (`^0.8.20` recommended)           |

---

## Summary

You now have:

* Local **Ethereum network** running via Hardhat
* Deployed **MemorixGame** smart contract
* Running **Express backend**
* Functional **frontend UI** connected to MetaMask
